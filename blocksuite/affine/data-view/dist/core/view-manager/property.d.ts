import type { UniComponent } from '@blocksuite/affine-shared/types';
import type { InsertToPosition } from '@blocksuite/affine-shared/utils';
import { type ReadonlySignal } from '@preact/signals-core';
import type { TypeInstance } from '../logical/type.js';
import type { CellRenderer, PropertyMetaConfig } from '../property/index.js';
import type { PropertyDataUpdater } from '../types.js';
import type { Cell } from './cell.js';
import type { SingleView } from './single-view.js';
export interface Property<RawValue = unknown, JsonValue = unknown, Data extends Record<string, unknown> = Record<string, unknown>> {
    readonly id: string;
    readonly index$: ReadonlySignal<number | undefined>;
    readonly view: SingleView;
    readonly isFirst$: ReadonlySignal<boolean>;
    readonly isLast$: ReadonlySignal<boolean>;
    readonly next$: ReadonlySignal<Property | undefined>;
    readonly prev$: ReadonlySignal<Property | undefined>;
    readonly readonly$: ReadonlySignal<boolean>;
    readonly renderer$: ReadonlySignal<CellRenderer | undefined>;
    readonly cells$: ReadonlySignal<Cell[]>;
    readonly dataType$: ReadonlySignal<TypeInstance | undefined>;
    readonly meta$: ReadonlySignal<PropertyMetaConfig | undefined>;
    readonly icon?: UniComponent;
    readonly delete?: () => void;
    get canDelete(): boolean;
    readonly duplicate?: () => void;
    get canDuplicate(): boolean;
    cellGetOrCreate(rowId: string): Cell<RawValue, JsonValue, Data>;
    readonly data$: ReadonlySignal<Data>;
    dataUpdate(updater: PropertyDataUpdater<Data>): void;
    readonly type$: ReadonlySignal<string>;
    readonly typeSet?: (type: string) => void;
    get typeCanSet(): boolean;
    readonly name$: ReadonlySignal<string>;
    nameSet(name: string): void;
    readonly hide$: ReadonlySignal<boolean>;
    hideSet(hide: boolean): void;
    get hideCanSet(): boolean;
    valueGet(rowId: string): RawValue | undefined;
    valueSet(rowId: string, value: RawValue | undefined): void;
    stringValueGet(rowId: string): string | undefined;
    valueSetFromString(rowId: string, value: string): void;
    parseValueFromString(value: string): {
        value: unknown;
        data?: Record<string, unknown>;
    } | undefined;
    move(position: InsertToPosition): void;
}
export declare abstract class PropertyBase<RawValue = unknown, JsonValue = unknown, Data extends Record<string, unknown> = Record<string, unknown>> implements Property<RawValue, JsonValue, Data> {
    view: SingleView;
    propertyId: string;
    meta$: ReadonlySignal<PropertyMetaConfig | undefined>;
    cells$: ReadonlySignal<Cell<unknown, unknown, Record<string, unknown>>[]>;
    data$: ReadonlySignal<Data>;
    dataType$: ReadonlySignal<TypeInstance | undefined>;
    abstract hide$: ReadonlySignal<boolean>;
    name$: ReadonlySignal<string>;
    readonly$: ReadonlySignal<boolean>;
    type$: ReadonlySignal<string>;
    renderer$: ReadonlySignal<CellRenderer<{}, unknown, unknown> | undefined>;
    get delete(): (() => void) | undefined;
    get duplicate(): (() => void) | undefined;
    abstract move(position: InsertToPosition): void;
    get icon(): UniComponent | undefined;
    get id(): string;
    index$: ReadonlySignal<number | undefined>;
    isFirst$: ReadonlySignal<boolean>;
    isLast$: ReadonlySignal<boolean>;
    next$: ReadonlySignal<Property<unknown, unknown, Record<string, unknown>> | undefined>;
    prev$: ReadonlySignal<Property<unknown, unknown, Record<string, unknown>> | undefined>;
    get typeSet(): undefined | ((type: string) => void);
    constructor(view: SingleView, propertyId: string);
    protected get dataSource(): import("../index.js").DataSource;
    get canDelete(): boolean;
    get canDuplicate(): boolean;
    get typeCanSet(): boolean;
    get hideCanSet(): boolean;
    cellGetOrCreate(rowId: string): Cell<RawValue, JsonValue, Data>;
    dataUpdate(updater: PropertyDataUpdater<Data>): void;
    abstract hideSet(hide: boolean): void;
    nameSet(name: string): void;
    stringValueGet(rowId: string): string | undefined;
    valueGet(rowId: string): RawValue | undefined;
    valueSet(rowId: string, value: RawValue | undefined): void;
    parseValueFromString(value: string): {
        value: unknown;
        data?: Record<string, unknown>;
    } | undefined;
    valueSetFromString(rowId: string, value: string): void;
}
//# sourceMappingURL=property.d.ts.map