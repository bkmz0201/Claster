import './ai-chat-composer-tip';
import type { AIDraftService, AIToolsConfigService } from '@affine/core/modules/ai-button';
import type { AIModelService } from '@affine/core/modules/ai-button/services/models';
import type { ServerService, SubscriptionService } from '@affine/core/modules/cloud';
import type { WorkspaceDialogService } from '@affine/core/modules/dialogs';
import type { ContextEmbedStatus, CopilotChatHistoryFragment } from '@affine/graphql';
import type { EditorHost } from '@blocksuite/affine/std';
import { ShadowlessElement } from '@blocksuite/affine/std';
import type { FeatureFlagService, NotificationService } from '@blocksuite/affine-shared/services';
import { type PropertyValues } from 'lit';
import type { SearchMenuConfig } from '../ai-chat-add-context';
import type { ChatChip, DocDisplayConfig } from '../ai-chat-chips';
import type { AIChatInputContext, AINetworkSearchConfig, AIReasoningConfig } from '../ai-chat-input';
export declare const EMBEDDING_STATUS_CHECK_INTERVAL = 10000;
declare const AIChatComposer_base: typeof ShadowlessElement & import("@blocksuite/global/utils").Constructor<import("@blocksuite/global/lit").DisposableClass>;
export declare class AIChatComposer extends AIChatComposer_base {
    static styles: import("lit").CSSResult;
    accessor independentMode: boolean | undefined;
    accessor host: EditorHost | null | undefined;
    accessor workspaceId: string;
    accessor docId: string | undefined;
    accessor session: CopilotChatHistoryFragment | null | undefined;
    accessor createSession: () => Promise<CopilotChatHistoryFragment | undefined>;
    accessor chatContextValue: AIChatInputContext;
    accessor updateContext: (context: Partial<AIChatInputContext>) => void;
    accessor onEmbeddingProgressChange: ((count: Record<ContextEmbedStatus, number>) => void) | undefined;
    accessor docDisplayConfig: DocDisplayConfig;
    accessor networkSearchConfig: AINetworkSearchConfig;
    accessor reasoningConfig: AIReasoningConfig;
    accessor searchMenuConfig: SearchMenuConfig;
    accessor onChatSuccess: (() => void) | undefined;
    accessor trackOptions: BlockSuitePresets.TrackerOptions | undefined;
    accessor portalContainer: HTMLElement | null;
    accessor serverService: ServerService;
    accessor affineWorkspaceDialogService: WorkspaceDialogService;
    accessor notificationService: NotificationService;
    accessor aiDraftService: AIDraftService | undefined;
    accessor aiToolsConfigService: AIToolsConfigService;
    accessor affineFeatureFlagService: FeatureFlagService;
    accessor subscriptionService: SubscriptionService;
    accessor aiModelService: AIModelService;
    accessor onAISubscribe: () => Promise<void>;
    accessor chips: ChatChip[];
    accessor isChipsCollapsed: boolean;
    accessor embeddingCompleted: boolean;
    private _contextId;
    private _pollAbortController;
    private _pollEmbeddingStatusAbortController;
    render(): import("lit-html").TemplateResult<1>;
    connectedCallback(): void;
    disconnectedCallback(): void;
    protected willUpdate(changedProperties: PropertyValues): void;
    private readonly beforeChatContextSend;
    private get isContextProcessing();
    private readonly _getContextId;
    private readonly createContextId;
    private readonly initChips;
    private readonly updateChips;
    private readonly updateChip;
    private readonly addChip;
    private readonly removeChip;
    private readonly addSelectedContextChip;
    private readonly removeSelectedContextChip;
    private readonly addToContext;
    private readonly addDocToContext;
    private readonly addFileToContext;
    private readonly addTagToContext;
    private readonly addCollectionToContext;
    private readonly addAttachmentChipToContext;
    private readonly removeFromContext;
    private readonly toggleChipsCollapse;
    private readonly addImages;
    private readonly pollContextDocsAndFiles;
    private readonly pollEmbeddingStatus;
    private readonly _onPoll;
    private readonly _abortPoll;
    private readonly _abortPollEmbeddingStatus;
    private readonly initComposer;
}
export {};
//# sourceMappingURL=ai-chat-composer.d.ts.map