import { ShadowlessElement } from '@blocksuite/affine/std';
import { Signal } from '@preact/signals-core';
import { type TemplateResult } from 'lit';
import type { SearchMenuConfig } from '../ai-chat-add-context';
import type { ChatChip, DocDisplayConfig } from './type';
export type MenuGroup = {
    name: string;
    items: MenuItem[] | Signal<MenuItem[]>;
    maxDisplay?: number;
    overflowText?: string | Signal<string>;
    divider?: () => TemplateResult<1>;
    noResult?: () => TemplateResult<1>;
};
export type MenuItem = {
    key: string;
    name: string | TemplateResult<1>;
    icon: TemplateResult<1>;
    action: MenuAction;
    suffix?: string | TemplateResult<1>;
    testId?: string;
};
export type MenuAction = () => Promise<void> | void;
export declare function resolveSignal<T>(data: T | Signal<T>): T;
declare const ChatPanelAddPopover_base: typeof ShadowlessElement & import("@blocksuite/global/utils").Constructor<import("@blocksuite/global/lit").DisposableClass>;
export declare class ChatPanelAddPopover extends ChatPanelAddPopover_base {
    static styles: import("lit").CSSResult;
    private accessor _query;
    accessor independentMode: boolean | undefined;
    accessor docId: string | undefined;
    private accessor _searchGroups;
    private readonly _toggleMode;
    private _focusSearchInput;
    private readonly tcGroup;
    private readonly _addFileChip;
    private readonly _addImageChip;
    private readonly uploadGroup;
    private get _menuGroup();
    private get _flattenMenuGroup();
    private accessor _activatedIndex;
    private accessor _mode;
    accessor searchMenuConfig: SearchMenuConfig;
    accessor docDisplayConfig: DocDisplayConfig;
    accessor addChip: (chip: ChatChip) => Promise<void>;
    accessor addImages: (images: File[]) => void;
    accessor abortController: AbortController;
    accessor testId: string;
    accessor uploadImageCount: number;
    accessor searchInput: HTMLInputElement;
    private _menuGroupAbortController;
    connectedCallback(): void;
    firstUpdated(): void;
    disconnectedCallback(): void;
    render(): TemplateResult<1>;
    private _renderSearchInput;
    private _getPlaceholder;
    private _renderDivider;
    private _renderNoResult;
    private _renderMenuGroup;
    private _renderMenuItems;
    private _onCompositionEnd;
    private _onInput;
    private _updateQuery;
    private _resetMaxDisplay;
    private _updateSearchGroup;
    private readonly _addDocChip;
    private readonly _addTagChip;
    private readonly _addCollectionChip;
    private readonly _handleKeyDown;
    private _scrollItemIntoView;
    private _track;
}
export {};
//# sourceMappingURL=add-popover.d.ts.map