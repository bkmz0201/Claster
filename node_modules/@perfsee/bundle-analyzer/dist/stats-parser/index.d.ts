import { PerfseeReportStats, ID } from '../stats';
import { Asset, Logger, BundleResult, ModuleMap, Audit, Reason } from './types';
export declare class StatsParser {
    private readonly stats;
    private readonly assetsPath;
    private readonly logger;
    static FromStatsFile(statsFilePath: string, logger?: Logger): Promise<StatsParser>;
    static FromStats(stats: PerfseeReportStats, assetsPath: string, logger?: Logger): StatsParser;
    private assetsMap;
    private packageVersionMap;
    private chunksMap;
    private auditFetcher?;
    private readonly auditsForLocal;
    private readonly modulesMap;
    private readonly entryPointsMap;
    private readonly packagePathRefMap;
    private readonly reasonsMap;
    private readonly moduleReasonsMap;
    private readonly sideEffectsMap;
    private readonly packageReasonsMap;
    private readonly strictChunkRelationsMap;
    private constructor();
    parse(): Promise<{
        report: BundleResult;
        moduleTree: {
            name: string;
            value: number;
            gzip: number;
            brotli: number;
            children: ({
                name: string;
                value: number;
                gzip: number;
                brotli: number;
                unused: number | undefined;
                dynamic: true | undefined;
                esm: boolean | undefined;
                sideEffects: boolean | undefined;
            } | {
                name: string;
                value: number;
                gzip: number;
                brotli: number;
                children: any[];
            })[];
            entryPoints: string[] | undefined;
        }[];
        assets: Asset[];
        moduleMap: ModuleMap;
        moduleReasons: {
            packageReasons: {
                [k: string]: Reason[][];
            };
            moduleReasons: {
                [k: string]: Reason[];
            };
            sideEffects: {
                [k: string]: Reason[];
            };
            moduleSource?: import("./types").ModuleSource | undefined;
        } | undefined;
    }>;
    initAuditFetcher(fetch: (path: string, init?: any) => Promise<any>, cacheDir?: string): this;
    appendAuditsForLocal(audits: Audit[]): this;
    parseReasons(): Map<ID, Reason[]>;
    private serializeModuleMap;
    private serializeResult;
    private parseEntryPoints;
    private parseAssets;
    private readonly getIssuers;
    private parseChunks;
    private reduceModules;
    private flatChunks;
    private getPackageMeta;
    private getModuleId;
    private parseModuleSideEffects;
    private parseBundleContent;
}
